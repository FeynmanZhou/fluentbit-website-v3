<!DOCTYPE HTML>
<html lang="en" >
    
    <head>
        
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <title>CPU Usage | Fluent Bit v0.8 Documentation</title>
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="generator" content="GitBook 2.1.0">
        
        
        <meta name="HandheldFriendly" content="true"/>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
        <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">
        
    <link rel="stylesheet" href="../gitbook/style.css">
    
    

        
    
    
    <link rel="next" href="../input/forward.html" />
    
    
    <link rel="prev" href="../input/index.html" />
    

        
    </head>
    <body>
        
        
    <div class="book" data-level="4.1" data-basepath=".." data-revision="Wed Jun 22 2016 09:46:36 GMT-0600 (CST)">
    

<div class="book-summary">
    <div class="book-search">
        <input type="text" placeholder="Type to search" class="form-control" />
    </div>
    <ul class="summary">
        
        
        
        

        

        
    
        <li class="chapter " data-level="0" data-path="index.html">
            
                
                    <a href="../index.html">
                        <i class="fa fa-check"></i>
                        
                        Introduction
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1" data-path="about/index.html">
            
                
                    <a href="../about/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.</b>
                        
                        About
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1" data-path="about/why.html">
            
                
                    <a href="../about/why.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.1.</b>
                        
                        Why ?
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="about/fluentd_and_fluentbit.html">
            
                
                    <a href="../about/fluentd_and_fluentbit.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.2.</b>
                        
                        Fluentd &amp; Fluent Bit
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="about/license.html">
            
                
                    <a href="../about/license.html">
                        <i class="fa fa-check"></i>
                        
                            <b>1.3.</b>
                        
                        License
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2" data-path="installation/index.html">
            
                
                    <a href="../installation/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.</b>
                        
                        Installation
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1" data-path="installation/requirements.html">
            
                
                    <a href="../installation/requirements.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.1.</b>
                        
                        Requirements
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="installation/download_sources.html">
            
                
                    <a href="../installation/download_sources.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.2.</b>
                        
                        Download Sources
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="installation/build_install.html">
            
                
                    <a href="../installation/build_install.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.3.</b>
                        
                        Build and Install
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="installation/debian_ubuntu.html">
            
                
                    <a href="../installation/debian_ubuntu.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.4.</b>
                        
                        Debian/Ubuntu
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="installation/redhat_centos.html">
            
                
                    <a href="../installation/redhat_centos.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.5.</b>
                        
                        Redhat/Centos
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="installation/raspberry_pi.html">
            
                
                    <a href="../installation/raspberry_pi.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.6.</b>
                        
                        Raspberry Pi
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="installation/unit_tests.html">
            
                
                    <a href="../installation/unit_tests.html">
                        <i class="fa fa-check"></i>
                        
                            <b>2.7.</b>
                        
                        Unit Tests
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3" data-path="getting_started/index.html">
            
                
                    <a href="../getting_started/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.</b>
                        
                        Getting Started
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.1" data-path="getting_started/configuration_schema.html">
            
                
                    <a href="../getting_started/configuration_schema.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.1.</b>
                        
                        Configuration Schema
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="getting_started/configuration_file.html">
            
                
                    <a href="../getting_started/configuration_file.html">
                        <i class="fa fa-check"></i>
                        
                            <b>3.2.</b>
                        
                        Configuration File
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4" data-path="input/index.html">
            
                
                    <a href="../input/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.</b>
                        
                        Input Plugins
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="4.1" data-path="input/cpu.html">
            
                
                    <a href="../input/cpu.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.1.</b>
                        
                        CPU Usage
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="input/forward.html">
            
                
                    <a href="../input/forward.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.2.</b>
                        
                        Forward
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="input/head.html">
            
                
                    <a href="../input/head.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.3.</b>
                        
                        Head
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="input/kmsg.html">
            
                
                    <a href="../input/kmsg.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.4.</b>
                        
                        Kernel Log Buffer
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="input/mem.html">
            
                
                    <a href="../input/mem.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.5.</b>
                        
                        Memory Usage
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.6" data-path="input/mqtt.html">
            
                
                    <a href="../input/mqtt.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.6.</b>
                        
                        MQTT
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.7" data-path="input/serial.html">
            
                
                    <a href="../input/serial.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.7.</b>
                        
                        Serial Interface
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.8" data-path="input/stdin.html">
            
                
                    <a href="../input/stdin.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.8.</b>
                        
                        Standard Input
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="4.9" data-path="input/xbee.html">
            
                
                    <a href="../input/xbee.html">
                        <i class="fa fa-check"></i>
                        
                            <b>4.9.</b>
                        
                        XBee Radio
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5" data-path="output/index.html">
            
                
                    <a href="../output/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.</b>
                        
                        Output Plugins
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1" data-path="output/elasticsearch.html">
            
                
                    <a href="../output/elasticsearch.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.1.</b>
                        
                        Elasticsearch
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="output/forward.html">
            
                
                    <a href="../output/forward.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.2.</b>
                        
                        Forward
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="output/http.html">
            
                
                    <a href="../output/http.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.3.</b>
                        
                        HTTP
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.4" data-path="output/nats.html">
            
                
                    <a href="../output/nats.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.4.</b>
                        
                        NATS
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.5" data-path="output/stdout.html">
            
                
                    <a href="../output/stdout.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.5.</b>
                        
                        Standard Output
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="5.6" data-path="output/td.html">
            
                
                    <a href="../output/td.html">
                        <i class="fa fa-check"></i>
                        
                            <b>5.6.</b>
                        
                        Treasure Data
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="6" data-path="development/index.html">
            
                
                    <a href="../development/index.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.</b>
                        
                        Fluent Bit for Developers
                    </a>
                
            
            
            <ul class="articles">
                
    
        <li class="chapter " data-level="6.1" data-path="development/library_api.html">
            
                
                    <a href="../development/library_api.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.1.</b>
                        
                        Library API
                    </a>
                
            
            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="development/ingest_records_manually.html">
            
                
                    <a href="../development/ingest_records_manually.html">
                        <i class="fa fa-check"></i>
                        
                            <b>6.2.</b>
                        
                        Ingest Records Manually
                    </a>
                
            
            
        </li>
    

            </ul>
            
        </li>
    


        
        <li class="divider"></li>
        <li>
            <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
                Published with GitBook
            </a>
        </li>
        
    </ul>
</div>

    <div class="book-body">
        <div class="body-inner">
            <div class="book-header">
    <!-- Actions Left -->
    <a href="#" class="btn pull-left toggle-summary" aria-label="Table of Contents"><i class="fa fa-align-justify"></i></a>
    <a href="#" class="btn pull-left toggle-search" aria-label="Search"><i class="fa fa-search"></i></a>
    
    <div id="font-settings-wrapper" class="dropdown pull-left">
        <a href="#" class="btn toggle-dropdown" aria-label="Font Settings"><i class="fa fa-font"></i>
        </a>
        <div class="dropdown-menu font-settings">
    <div class="dropdown-caret">
        <span class="caret-outer"></span>
        <span class="caret-inner"></span>
    </div>

    <div class="buttons">
        <button type="button" id="reduce-font-size" class="button size-2">A</button>
        <button type="button" id="enlarge-font-size" class="button size-2">A</button>
    </div>

    <div class="buttons font-family-list">
        <button type="button" data-font="0" class="button">Serif</button>
        <button type="button" data-font="1" class="button">Sans</button>
    </div>

    <div class="buttons color-theme-list">
        <button type="button" id="color-theme-preview-0" class="button size-3" data-theme="0">White</button>
        <button type="button" id="color-theme-preview-1" class="button size-3" data-theme="1">Sepia</button>
        <button type="button" id="color-theme-preview-2" class="button size-3" data-theme="2">Night</button>
    </div>
</div>

    </div>

    <!-- Actions Right -->
    
    <div class="dropdown pull-right">
        <a href="#" class="btn toggle-dropdown" aria-label="Share"><i class="fa fa-share-alt"></i>
        </a>
        <div class="dropdown-menu font-settings dropdown-left">
            <div class="dropdown-caret">
                <span class="caret-outer"></span>
                <span class="caret-inner"></span>
            </div>
            <div class="buttons">
                <button type="button" data-sharing="twitter" class="button">
                    Share on Twitter
                </button>
                <button type="button" data-sharing="google-plus" class="button">
                    Share on Google
                </button>
                <button type="button" data-sharing="facebook" class="button">
                    Share on Facebook
                </button>
                <button type="button" data-sharing="weibo" class="button">
                    Share on Weibo
                </button>
                <button type="button" data-sharing="instapaper" class="button">
                    Share on Instapaper
                </button>
            </div>
        </div>
    </div>
    

    
    <a href="#" target="_blank" class="btn pull-right google-plus-sharing-link sharing-link" data-sharing="google-plus" aria-label="Google"><i class="fa fa-google-plus"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right facebook-sharing-link sharing-link" data-sharing="facebook" aria-label="Facebook"><i class="fa fa-facebook"></i></a>
    
    
    <a href="#" target="_blank" class="btn pull-right twitter-sharing-link sharing-link" data-sharing="twitter" aria-label="Twitter"><i class="fa fa-twitter"></i></a>
    
    
    


    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../" >Fluent Bit v0.8 Documentation</a>
    </h1>
</div>

            <div class="page-wrapper" tabindex="-1">
                <div class="page-inner">
                
                
                    <section class="normal" id="section-">
                    
                        <h1 id="cpu-usage">CPU Usage</h1>
<p>The <strong>cpu</strong> input plugin, measures the CPU usage by the system and per CPU core in a percentage unit between every second of time. At the moment this plugin is only available for Linux.</p>
<p>The following tables describes the information generated by the plugin. The keys below represent the data used by the overall system, all values associated to the keys are in a percentage unit (0 to 100%):</p>
<table>
<thead>
<tr>
<th>key</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cpu_p</td>
<td>CPU usage of the overall system, this value is the summatory of time spent on user and kernel space. The result takes in consideration the numbers of CPU cores in the system.</td>
</tr>
<tr>
<td>user_p</td>
<td>CPU usage in User mode, for short it means the CPU usage by user space programs. The result of this value takes in consideration the numbers of CPU cores in the system.</td>
</tr>
<tr>
<td>system_p</td>
<td>CPU usage in Kernel mode, for short it means the CPU usage by the Kernel. The result of this value takes in consideration the numbers of CPU cores in the system.</td>
</tr>
</tbody>
</table>
<p>In addition to the keys reported in the above table, a similar content is created <strong>per</strong> CPU core. The cores are listed from <em>0</em> to <em>N</em> as the Kernel reports:</p>
<table>
<thead>
<tr>
<th>key</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>cpu<strong>N</strong>.p_cpu</td>
<td>Represents the total CPU usage by core <strong>N</strong>.</td>
</tr>
<tr>
<td>cpu<strong>N</strong>.p_user</td>
<td>Total CPU spent in user mode or user space programs associated to this core.</td>
</tr>
<tr>
<td>cpu<strong>N</strong>.p_system</td>
<td>Total CPU spent in system or kernel mode associated to this core.</td>
</tr>
</tbody>
</table>
<h2 id="getting-started">Getting Started</h2>
<p>In order to get the statistics of the CPU usage of your system, you can run the plugin from the command line or through the configuration file:</p>
<h3 id="command-line">Command Line</h3>
<pre><code class="lang-bash">$ build/bin/fluent-bit -i cpu -t my_cpu -o stdout -m <span class="hljs-string">&apos;*&apos;</span>
Fluent-Bit v0.<span class="hljs-number">8.0</span>
Copyright (C) Treasure Data

[<span class="hljs-number">2016</span>/<span class="hljs-number">01</span>/<span class="hljs-number">07</span> <span class="hljs-number">10</span>:<span class="hljs-number">46</span>:<span class="hljs-number">29</span>] [ info] starting engine
[<span class="hljs-number">0</span>] [<span class="hljs-number">1452185189</span>, {<span class="hljs-string">&quot;cpu_p&quot;</span>=&gt;<span class="hljs-number">7.00</span>, <span class="hljs-string">&quot;user_p&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;system_p&quot;</span>=&gt;<span class="hljs-number">2.00</span>, <span class="hljs-string">&quot;cpu0.p_cpu&quot;</span>=&gt;<span class="hljs-number">10.00</span>, <span class="hljs-string">&quot;cpu0.p_user&quot;</span>=&gt;<span class="hljs-number">8.00</span>, <span class="hljs-string">&quot;cpu0.p_system&quot;</span>=&gt;<span class="hljs-number">2.00</span>, <span class="hljs-string">&quot;cpu1.p_cpu&quot;</span>=&gt;<span class="hljs-number">6.00</span>, <span class="hljs-string">&quot;cpu1.p_user&quot;</span>=&gt;<span class="hljs-number">4.00</span>, <span class="hljs-string">&quot;cpu1.p_system&quot;</span>=&gt;<span class="hljs-number">2.00</span>}]
[<span class="hljs-number">1</span>] [<span class="hljs-number">1452185190</span>, {<span class="hljs-string">&quot;cpu_p&quot;</span>=&gt;<span class="hljs-number">6.50</span>, <span class="hljs-string">&quot;user_p&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;system_p&quot;</span>=&gt;<span class="hljs-number">1.50</span>, <span class="hljs-string">&quot;cpu0.p_cpu&quot;</span>=&gt;<span class="hljs-number">6.00</span>, <span class="hljs-string">&quot;cpu0.p_user&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;cpu0.p_system&quot;</span>=&gt;<span class="hljs-number">1.00</span>, <span class="hljs-string">&quot;cpu1.p_cpu&quot;</span>=&gt;<span class="hljs-number">7.00</span>, <span class="hljs-string">&quot;cpu1.p_user&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;cpu1.p_system&quot;</span>=&gt;<span class="hljs-number">2.00</span>}]
[<span class="hljs-number">2</span>] [<span class="hljs-number">1452185191</span>, {<span class="hljs-string">&quot;cpu_p&quot;</span>=&gt;<span class="hljs-number">7.50</span>, <span class="hljs-string">&quot;user_p&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;system_p&quot;</span>=&gt;<span class="hljs-number">2.50</span>, <span class="hljs-string">&quot;cpu0.p_cpu&quot;</span>=&gt;<span class="hljs-number">7.00</span>, <span class="hljs-string">&quot;cpu0.p_user&quot;</span>=&gt;<span class="hljs-number">3.00</span>, <span class="hljs-string">&quot;cpu0.p_system&quot;</span>=&gt;<span class="hljs-number">4.00</span>, <span class="hljs-string">&quot;cpu1.p_cpu&quot;</span>=&gt;<span class="hljs-number">6.00</span>, <span class="hljs-string">&quot;cpu1.p_user&quot;</span>=&gt;<span class="hljs-number">6.00</span>, <span class="hljs-string">&quot;cpu1.p_system&quot;</span>=&gt;<span class="hljs-number">0.00</span>}]
[<span class="hljs-number">3</span>] [<span class="hljs-number">1452185192</span>, {<span class="hljs-string">&quot;cpu_p&quot;</span>=&gt;<span class="hljs-number">4.50</span>, <span class="hljs-string">&quot;user_p&quot;</span>=&gt;<span class="hljs-number">3.50</span>, <span class="hljs-string">&quot;system_p&quot;</span>=&gt;<span class="hljs-number">1.00</span>, <span class="hljs-string">&quot;cpu0.p_cpu&quot;</span>=&gt;<span class="hljs-number">6.00</span>, <span class="hljs-string">&quot;cpu0.p_user&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;cpu0.p_system&quot;</span>=&gt;<span class="hljs-number">1.00</span>, <span class="hljs-string">&quot;cpu1.p_cpu&quot;</span>=&gt;<span class="hljs-number">5.00</span>, <span class="hljs-string">&quot;cpu1.p_user&quot;</span>=&gt;<span class="hljs-number">3.00</span>, <span class="hljs-string">&quot;cpu1.p_system&quot;</span>=&gt;<span class="hljs-number">2.00</span>}]
</code></pre>
<p>As described above, the CPU input plugin gathers the overall usage every one second and flushed the information to the output on the fifth second. On this example we used the <strong>stdout</strong> plugin to demonstrate the output records. In a real use-case you may want to flush this information to some central aggregator such as <a href="http://fluentd.org" target="_blank">Fluentd</a> or <a href="http://elastic.co" target="_blank">Elasticsearch</a>.</p>
<h3 id="configuration-file">Configuration File</h3>
<p>In your main configuration file append the following <em>Input</em> &amp; <em>Output</em> sections:</p>
<pre><code class="lang-Python">[INPUT]
    Name cpu
    Tag  my_cpu

[OUTPUT]
    Name  stdout
    Match *
</code></pre>

                    
                    </section>
                
                
                </div>
            </div>
        </div>

        
        <a href="../input/index.html" class="navigation navigation-prev " aria-label="Previous page: Input Plugins"><i class="fa fa-angle-left"></i></a>
        
        
        <a href="../input/forward.html" class="navigation navigation-next " aria-label="Next page: Forward"><i class="fa fa-angle-right"></i></a>
        
    </div>
</div>

        
<script src="../gitbook/app.js"></script>

<script>
require(["gitbook"], function(gitbook) {
    var config = {"fontSettings":{"theme":null,"family":"sans","size":2}};
    gitbook.start(config);
});
</script>

        
    </body>
    
</html>
